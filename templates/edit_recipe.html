{% extends 'base.html' %}
{% block content %}
<section class="container margin-top-large container-addrecipe z-depth-2">

	<h3 class="edit-recipe-heading text-align center text-uppercase ">Edit Recipe {{recipe.coffee_name}}</h3>

	 <form action="{{url_for('update_recipe',recipe_id=recipe._id)}}" method="POST" name="updateRecipe" id="updateRecipe">
		<div class="row">
            
           <!--The category of the recipe-->
          <div class="input-field col s12">
                  <i class="material-icons prefix">assignment</i>
                <select id="category" name="category_name">
                  <option value="" disabled selected>Choose Category</option>
                  {% for cat in all_categories %}
                      <option value="{{cat.category_name}}">{{cat.category_name}}</option>
                  {% endfor %}
                </select>
                    <label>Category</label>
                </div>
            </div>

    <div class="row">
         <!--The title of the recipe-->
        <div class="input-field col s12">
            <i class="material-icons prefix">mode_edit</i>
            <input id="coffee_name" maxlength="25" name="coffee_name" value="{{recipe.coffee_name}}" type="text" class="validate" required>
            <label for="coffee_name">Coffee Name</label>
        </div>
    
    </div> 

     <!--The path to the recipe's image-->
    <div class="row">
          <div class="input-field col s12 l6 xl4">
            <i class="material-icons prefix">add_a_photo</i>
            <input id="image_link" name="image_link" value="{{recipe.image_link}}" type="url" class="validate">
            <label for="image_link">URL of Image</label>
        </div>
    </div>

    <div class="row">
                     
        <!--The time needed to prepare the recipe-->
        <div class="input-field col s12 m6">
            <i class="material-icons prefix">timer</i>
            <input id="prep_time" name="prep_time" value="{{recipe.prep_time}}" type="text" class="validate">
            <label for="prep_time">Preparation Time</label>
        </div>

        <!--The time needed to cook the recipe-->
       <div class="input-field col s12 m6">
              <i class="material-icons prefix">timer</i>
            <input id="cooking_time" name="cooking_time" value="{{recipe.cooking_time}}" type="text" class="validate" >
            <label for="cooking_time">Cooking Time</label>
        </div>
        <!--The number of servings -->
        <div class="input-field col s12 m6">
            <i class="material-icons prefix">restaurant</i>
            <input id="yield" name="yield" value="{{ recipe.yield }}" type="text" class="validate">
            <label for="yield">Yields</label>
        </div>

    </div>

      <!--Input field for the ingredients-->
    <div class="row">
        <div class="input-field col s12">
            <i class="material-icons prefix">format_list_bulleted</i>
            <textarea id="ingredients" name="ingredients" class="materialize-textarea" required maxlength="3000">
            {% for ingredient in recipe.ingredients -%}
                {{ ingredient }}
            {% endfor -%}</textarea>
            <label for="ingredients">Ingredients</label>
        </div>
    </div> 

     <!--Input field for the direction-->
    <div class="row">
        <div class="input-field col s12">
            <i class = "material-icons prefix">format_list_numbered</i>
            <textarea id="directions" name="directions" class="materialize-textarea" required>
            {% for direction in recipe.directions -%}
                {{ direction }}
            {% endfor -%}
            </textarea>
            <label for="directions">Directions</label>
        </div>
    </div> 

        <!--Button to submit the recipe-->
    <div class="row">
    
		<div class="col s6 right-align">
			<a href="{{ url_for('home') }}" class="btn z-depth-2 btn-form btn-light waves-effect waves-light" name="action">
				Cancel </a>
		</div>
		<div class="col s6">
			<button class="btn z-depth-2 btn-form btn-light waves-effect waves-light" type="submit" name="action">Submit
		        </button>
		</div>
</div>
</form>
                    
</section>
{% endblock %}